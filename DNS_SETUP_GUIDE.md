# 阿里云域名解析配置指南 - sunnyding.cn

## 🎯 您的当前状态

✅ 已购买域名：sunnyding.cn  
✅ DNS 服务商：阿里云（万网）  
✅ DNS 服务器：dns21.hichina.com  
⏳ 待配置：DNS 解析记录  

---

## 📝 配置步骤

### 步骤 1：登录阿里云控制台

访问以下任一链接：
- DNS 控制台：https://dns.console.aliyun.com
- 域名控制台：https://dc.console.aliyun.com

使用您购买域名时的阿里云账号登录。

---

### 步骤 2：找到域名管理

1. 在控制台中找到 **"域名"** 或 **"云解析 DNS"**
2. 在域名列表中找到：`sunnyding.cn`
3. 点击域名后面的 **"解析"** 或 **"解析设置"** 按钮

---

### 步骤 3：添加解析记录

#### 记录 1：主域名（@）

点击 **"添加记录"** 按钮，填写：

```
┌─────────────────────────────────────┐
│ 记录类型：A                          │
│ 主机记录：@                          │
│ 解析线路：默认                        │
│ 记录值：  您的服务器IP地址            │
│          (例如: 123.45.67.89)       │
│ TTL：    10分钟                      │
└─────────────────────────────────────┘
```

**说明：**
- `@` 表示 `sunnyding.cn`（不带 www）
- 记录值填写您服务器的公网 IP 地址

#### 记录 2：WWW 子域名

再次点击 **"添加记录"**，填写：

```
┌─────────────────────────────────────┐
│ 记录类型：A                          │
│ 主机记录：www                        │
│ 解析线路：默认                        │
│ 记录值：  您的服务器IP地址            │
│          (例如: 123.45.67.89)       │
│ TTL：    10分钟                      │
└─────────────────────────────────────┘
```

**说明：**
- `www` 表示 `www.sunnyding.cn`
- 记录值与上面相同

---

### 步骤 4：保存配置

点击 **"确定"** 或 **"保存"** 按钮。

配置完成后，您应该看到类似这样的记录列表：

```
主机记录    记录类型    解析线路    记录值           TTL      状态
────────────────────────────────────────────────────────────
@          A          默认       123.45.67.89    10分钟    正常
www        A          默认       123.45.67.89    10分钟    正常
```

---

## 🔍 验证解析是否生效

### 方法 1：使用 nslookup（Windows）

打开 PowerShell，运行：

```powershell
# 查询主域名
nslookup sunnyding.cn

# 查询 www 子域名
nslookup www.sunnyding.cn
```

**成功的输出示例：**
```
服务器:  dns.example.com
Address:  192.168.1.1

非权威应答:
名称:    sunnyding.cn
Address:  123.45.67.89
```

### 方法 2：使用在线工具

访问这些网站检查：
- https://tool.chinaz.com/dns （站长工具）
- https://www.ipip.net/dns.html （IPIP DNS 查询）

输入 `sunnyding.cn`，查看是否解析到正确的 IP。

### 方法 3：直接访问（需要网站已部署）

在浏览器中访问：
- http://sunnyding.cn
- http://www.sunnyding.cn

如果能打开网站，说明解析成功！

---

## ⏱️ 生效时间

- **最快**：5-10 分钟
- **一般**：30 分钟到 2 小时
- **最长**：24-48 小时（极少情况）

**为什么需要时间？**
- DNS 信息需要在全球的 DNS 服务器之间传播
- 您本地电脑的 DNS 缓存需要更新

**加快生效：**
```powershell
# 清除本地 DNS 缓存（Windows）
ipconfig /flushdns
```

---

## 📊 DNS 解析原理

```
用户输入: sunnyding.cn
    ↓
本地 DNS 缓存
    ↓ (未找到)
本地 DNS 服务器（运营商）
    ↓ (未找到)
阿里云 DNS 服务器 (dns21.hichina.com)
    ↓ (查询您配置的 A 记录)
返回: 123.45.67.89
    ↓
用户浏览器访问: 123.45.67.89
```

---

## ❓ 常见问题

### Q1: 找不到域名管理入口？

**解决方法：**
1. 登录 https://home.console.aliyun.com （阿里云总控制台）
2. 搜索框输入 "域名" 或 "DNS"
3. 点击 "云解析 DNS" 或 "域名"

### Q2: 提示"域名未实名认证"？

**解决方法：**
1. 在域名列表中点击 "实名认证"
2. 上传身份证照片
3. 等待审核（通常 1-3 个工作日）
4. 认证通过后才能配置解析

### Q3: nslookup 显示不是正确的 IP？

**可能原因：**
- DNS 还没有完全生效，等待更长时间
- 本地 DNS 缓存，运行 `ipconfig /flushdns`
- 配置错误，检查阿里云控制台的记录值

### Q4: 我还没有服务器怎么办？

**选项 1：购买阿里云 ECS 服务器**
- 访问：https://ecs.console.aliyun.com
- 选择最便宜的配置即可（约 ¥100/月）
- 系统选择：Ubuntu 22.04

**选项 2：使用免费托管平台（推荐新手）**
- Vercel：https://vercel.com（免费）
- Netlify：https://netlify.com（免费）
- 不需要购买服务器，直接在平台上绑定域名

---

## 🎯 配置完成后的下一步

DNS 解析生效后，您需要：

1. ✅ 确保服务器已开放 80 和 443 端口
2. ✅ 可以通过 SSH 登录服务器
3. ✅ 运行部署脚本 `deploy.sh`
4. ✅ 配置 DeepSeek API 密钥

详细步骤请参考：
- [QUICK_DEPLOY.md](QUICK_DEPLOY.md) - 快速部署指南
- [DEPLOYMENT_CHECKLIST.md](DEPLOYMENT_CHECKLIST.md) - 完整检查清单

---

## 📞 需要帮助？

如果配置过程中遇到问题，请提供以下信息：

1. 您的服务器 IP 地址（如果有）
2. `nslookup sunnyding.cn` 的输出结果
3. 阿里云控制台的解析记录截图
4. 遇到的具体错误信息

我会帮您解决！🚀

---

**最后更新**: 2025年12月30日
